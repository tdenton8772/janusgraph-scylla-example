# JanusGraph configuration for ScyllaDB backend
# This file will be mounted into the JanusGraph Docker container

# Storage Backend - CQL (ScyllaDB/Cassandra)
# Note: These values are overridden by Docker environment variables
# See docker-compose.yml for actual runtime configuration
storage.backend=cql
# storage.hostname=localhost                    # Overridden by SCYLLA_HOST
# storage.port=9042                           # Overridden by SCYLLA_PORT  
# storage.cql.keyspace=janusgraph             # Overridden by SCYLLA_KEYSPACE

# Authentication - handled via environment variables
# storage.username=${SCYLLA_USERNAME}         # Set via Docker env
# storage.password=${SCYLLA_PASSWORD}         # Set via Docker env

# SSL Configuration - handled via environment variables
# storage.cql.ssl.enabled=${SCYLLA_SSL_ENABLED}            # Set via Docker env
# storage.cql.ssl.truststore.location=${SCYLLA_SSL_TRUSTSTORE}  # Set via Docker env
# storage.cql.ssl.truststore.password=${SCYLLA_SSL_TRUSTSTORE_PASSWORD}  # Set via Docker env

# Connection Pool Settings
storage.cql.max-connections-per-host=8
storage.connection-timeout=10000
storage.cql.read-consistency-level=LOCAL_QUORUM
storage.cql.write-consistency-level=LOCAL_QUORUM

# CQL Specific Settings
storage.cql.replication-factor=3
storage.cql.replication-strategy-class=SimpleStrategy

# Graph Cache Settings
cache.db-cache = true
cache.db-cache-clean-wait = 20
cache.db-cache-time = 180000
cache.db-cache-size = 0.5

# Schema Management
schema.default=none
schema.constraints=true

# Index Backend (using built-in Lucene)
index.search.backend=lucene
index.search.directory=/opt/janusgraph/db/searchindex

# Server Configuration
gremlin.graph=org.janusgraph.core.JanusGraphFactory
storage.lock.wait-time=100
storage.lock.retries=3

# Metrics
metrics.enabled=false

# Transaction Settings
storage.transactions=true
storage.batch-loading=false

# Logging
log4j.rootLogger=WARN, stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n